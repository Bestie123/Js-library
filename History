1. - Добавлена кнопка "Отписаться", открывающая и скрывающая список доступных категорий для подписки
1.1. В списке с категориями добавлена возможность добавить новую категорию. В конце списка добавлена кнопка "Добавить категорию" и текстовое поле для ввода
названия категории
1.2. При открытии списка выделяется категория комнаты куда это комната записана
1.3. При каждом открытии списка по нажатию кнопки "Отписаться", список с категориями и айди категориями для текущей комнаты запрашиваются заново из базы данных
и только после успешного запроса отображается список
!!!!! Возможно переделать в формат запроса через воркер для соблюдения шаблона обращений к базе  данных и удобности контроля работы воркера с базами данных и 
удобности синхронизации
1.4. При выборе категории выделение со старого элемента удаляется и выделяется новый.
!!!!! Возможно сделать перебор и удаление выделений со всех элементов. Хотя добавление одноименных категорий не поддерживается.
1.5. Категории в списке отображаются упорядоченном порядке.
!!!!! Возможно добавить возможность изменять местоположение категории методом перемещения элемента.
!!!!! Добавить отслеживание изменения отображения порядка категорий для всех страниц, если порядок меняется то менять его и в открытом списке(можно просто заново переоткрывать
список т.к. запросы идут при каждом новом открытии)
1.6. Добавлен ползунок прокрутки категорий

2.1. - Добавлена кнопка "Following", открывающая список с доступными категориями для показа
2.2. При каждом открытии списка по нажатию кнопки "Following", список с категориями  запрашивается заново из базы данных
и только после успешного запроса отображается список
2.3. При выборе активной категории текущая категория выделяется голубым цветом.
!!!!!Сделать выделение текущей активной категории по нажатии на нее и удаление выделения со старой(необязательно т к список закрывается при выборе категории)
2.4. При выборе активной категории список  категориями автоматически закрывается
2.5. При выборе активной категории идет моментальный запрос к базе данных, если активная категория с онлайн комнатами с существует, то они отображаются
!!!!! При открытии сайта необходимо подождать 30 секунд перед тем как воркер сделает запрос на онлайн комнаты  и запишет их в базу данных
Возможно сделать принудительный запрос онлайн комнат если база данных еще не инициализирована
2.6. Раз в 30 секунд воркер делет запрос на комнаты онлайн, затем через широковещательный канал отсылаются отсортированные категории с комнатами
и на вкладках отображаются текущие выбранные категории индивидуально для каждой вкладки.
2.7. Добавлена ползунок прокрутки категорий 
2.8. Добавлен элемент, отображающий текущую выбранную категорию, а также количество комнат онлайн для данной категории. Находится в списке с выбором реальных категорий.

26.11.2022
2.9. Добавлена общая категория для всех категорий с подписками
2.9.1. Общая категория отображается в начале списка со всеми категориями расширения
2.9.2. Название общей категории отличается тем, что имеет зеленый цвет
2.9.3. При выборе активной категории идет моментальный запрос к базе данных,если выбрана общая категория, то внутренний параметр GeneralCategory устанавливается true,
если любая другая то false, далее если активные категория с онлайн комнатами существуют, то они отображаются
!!!!! При открытии сайта необходимо подождать 30 секунд перед тем как воркер сделает запрос на онлайн комнаты  и запишет их в базу данных
Возможно сделать принудительный запрос онлайн комнат если база данных еще не инициализирована
2.9.4. При обновлении онлайн комнат раз в 30 секунд происходит перезапись категорий и комнат
2.9.4.1. Если в категории нет комнат, то она перестает отображаться.
2.9.4.2. Если в категории комната пропадает из онлайна, то она также перестает отображаться. 
2.9.4.3. Если комната меняет позицию в рейтинге, то она также меняет позицию внутри категории
2.10 Добавлено отображение количества комнат онлайн для каждой категории подписок в списке
2.11. Добавлен(пофикшен) выбор общей категории в списке (ране он не выделялась в отличии от остальных категорий)
2.12. Добавлено отображение общего количества комнат онлайн для общей категории в списке
2.13. Пофикшено расположение названия категории над комнатами. 
2.13.1. Название больше не сливается с границей предыдущей категории.
2.13.2 Название категории теперь отображается жирным шрифтом и увеличенным размером.
2.14. Добавлено отображение общего количества комнат онлайн для подписок расширения рядом с кнопкой открытия списка выбора активной категории
2.15. Добавлено отображение в блоке комнат над каждой категорией количество комнат онлай рядом с названием категории
2.15.1 Добавлено обновление количества комнат онлайн для каждой категории, над комнатами рядом с именем категории, автоматически раз в 30 секунд
2.16. Добавлено обновление колиества комнат онлайн в элементе с названием текущей активной категории
2.17. Доработана функцию DisplayingCategoriesWithRooms для оторажения всех комнат онлайн для общей категории. Теперь в элементе с текущей выбранной категорией, если
выбрана общая, отображается общее число онлайн комнат для всех категорий.
!!!!!2.10. Возможно добавить для общей категории, и для и в названии категории над комнатами
!!!!!!!!!2.9.4.3. Возможно доработать, чтоб комнаты оставались на фиксированных позициях друг относительно друга в течении сессии

29.11.2022
2.18. На несколько страниц добавлена возможность открытия списка с выбором отображаемой категории, вероятнее всего покрывает все необходимые страницы
!!!!!!!!!!!!!! Исправление работает, но надежность под сомнением т. к. используются различные методы поиска и удаления отображения стандартных элементов для разных страниц.
!!!!!!!!!!!!!! Вероятнее всего легче удалять стандартный элемент с категориями и встраивать вместо него заранее сделанную копию, это позволит удалять все содержимое контейнера main без особых усилий
2.19. Пофикшено добавление новой категории (Ранее новая добавленная категория не выбиралась при нажатии, приходилось перезагружать страницу - теперь все работает нормально)
2.20. Переделаны методы обращения к базе данных из текущей открытой вкладки ( теперь сайт не будет напрямую обращаться к базе данных indexDB - он будет посылать запросы воркеру, а тот в свою очередь посылать вкладке работнику ( вкладка работник в будущем будет заменена на удаленную базу данных)
2.20.1.Некоторые методы чтения из базы данных indexDB заменены на запросы из онлайн базы воркера
!!!!!!!! Необходимо доработать остальные методы чтения и методы записи в базу данных, но после смены базы на удаленную версию
!!!!!!!!! необходимо для будущего удаления поддержки базы данных браузера и добавления удаленной поддержки
2.21. Оптимизирована функция подсчета количества онлайн комнат - теперь подсчет проходит в воркере, ранее подсчитывалось по несколько раз для каждой вкладки.
!!!!!!!!! Есть вероятность несовпадения реального количества комнат со счетчиком, возожно имеет смысл делать подсчет непосредственно перед отправкой комнат. Сейчас подсчет происходит только при запросе  всех онлайн комнат от сервера.
2.22. Теперь кнопка Following обновляет автоматически отображение количества онлайн комнат, также обновляет если нажать на нее для открытия списка с категориями.
2.23. Если список с категориями открыт, то он обновляется автоматически. Фиксируются удаление или изменение порядк категорий, изменение количества онлайн комнат для каждой категории

 

Работает, в данный момент не требует вмешательства
--------------
Сделать автообновление миниатюр комнат. В целом работает автоматически, нужна дополнительная проверка в будущем интерфейсе с несколькими категориями
Добавить в список с выбором активной категории информацию о количестве комнат онлайн для каждой категории. Работает, возможно нужно будет дополнить штатными категориями

--------------
Не работает, ограничения
Приватные комнаты не отображаются
--------------

Труднореализуемо
--------------
Добавить код получения ссылки на трансляцию




Добавить возможность выбора количества отображаемых комнат для каждой категории
Добавить выбор страниц индивидуально для каждой категории
!!!!! Все действия синхронизировать между страницами
-Возможно реализовать фиксированный показ комнат в списке по индексу
Реализовать синхронизацию онлайн и оффлайн баз данных
!!!!!!!!!!!!!!!!!!!!!!!!!!! в перспективе возможно отказаться от браузерной базы данных ввиду возможности удаления информации без предупреждения
В пункте 1 добавить возможность удаления категории

Пофиксить изменение размера миниатюры комнаты. Изменяется если в категории недостаточно комнат
Добавить рамку вокруг звездочек(или что то другое) на миниатюрах, сообщающую о подписке через расширение
Пофиксить отображение выделенной категории при открытии комнат(если перейти в другую комнату то список не удаляется, вероятно нужно принудительно закрывать или удалять)
Пофиксить момент когда не отображается переключение категорий если открыта комната
Добавить в общую категорию возможность отображения основных категорий сайта
Модернизировать основные категории сайта для общей категории, чтоб удалялось отображение комнат которые принадлежат другим категориям расширения
Улучшить внутреннюю комунникацию между воркером и страницами, добавить возможность делать несколько запросов за один раз либо что то подобное


при инициализации расширения моментально запрашивать список с комнатами онлайн и только потом инициализировать расширение
пофикисть порядок отображения категорий
пофиксить вероятную проблему с зависанием страницы через котороую работет фронтенд воркера
!!!!!!!!!!!!!!!!!!!!!!!!! найден способ получать все комнаты, даже приватные, адреса в приватном репозитории, способ требует модернизацию обработки комнат
!!!!!!!!!!!!!!!!!!!!!!!!!  способ больше не будет требовать проксирование и обработку html кода через одну из вкладок, но  проблема  запрета обращения к базе данных из blob или data shareworker все также актуальна
!!!!!!!!!!!!!!!!!!!!!!!!! для данного способа добавить удаление комнат на которые имеется подписка из общего списка с комнатами
Возможные варианты решения проблемы с indexDB
1 использовать также indexdb
2 очень сомнительный API FILE для браузера
3 писать расширение конкретно для Google Chrome
4 сделать локальный сервера
5 сделать удаленный сервер
6 Использовать API яндекс диска https://yandex.com/dev/disk/ (ограничение значения 1024)
6.1 https://yandex.com/dev/disk/doc/dg/reference/proppatch.html
или
6.2 https://yandex.com/dev/disk/api/reference/meta-add.html
7 Использовать API Вконтакте 
7.1 https://dev.vk.com/method/storage.set (ограничение на 100 символов для имени и 4096 для значения, ограничение на 1000 ключей, срок жизни 1 год и его нельзя проверить)
7.2 https://dev.vk.com/method/docs.getById (возможно как то через документы вконтакте, но по факту легче через пункт 6 в яндекс диске
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! Провести тесты насколько сильно замедляется неактивная вкладка с обработкой html  и без обработки(когда будет готов новый способ, затем с доступом к базе из вкладке и с одним из вариантов выше) Всего должно получиться 8 тестов
Проверить синхронизируется ли сохранение онлайн и оффлайн базы данных при изменении категории комнаты
 При открытии новой вкладки воркеру посылается запрос на обновление онлайн базы с категориями через копирование оффлайн базы. Это объясняет почему отображаются новые комнаты куда подписываешься. Требует модернизаации
Возможно добавить возможность открытия новой вкладки  с выбранной  категорией при нажатии правой кнопкой мыши и выборе открытия в списке









Доработать синхронизацию изменений в онлайн базе данных ( сейчас записываются только в физическую базу, онлайн база инициализируется один раз при открытии первой вкладки)






